# Linux实操篇-3（实用指令）
## 指定运行级别
*七个运行指令*
0. 关机
1. 单用户（找回丢失密码）
2. 多用户无网络服务
3. 多用户有网络服务
4. 保留
5. 图形界面
6. 重启
+ 切换到指定运行级别的指令--init

+ 找回root密码：进入单用户模式

  系统运行级别配置文件：/etc/inittab
  
  命令：***init [0123456]***
  
+ *如何找回root密码？*

  开机→在引导时输入 enter键→看到一个界面输入 e→看到一个新的界面，选中第二行（编辑内核），再输入e→在这行的最后输入1，再输入enter键→再次输入b，这时就会进入单用户模式，这时候我们就进入到单用户模式，使用passwd指令修改root密码

  情形：不能远程操作，电脑必须在用户的身边

## 帮助指令

当我们对某个指令不熟悉的时候，我们可以使用Linux提供的帮助指令来了解这个指令的使用方法。

+ man获得帮助信息

***man 【命令或配置文件】***

+ help指令

  基本语法：***help 命令***（功能描述，获得shell内置命令的帮助信息）

  当一个指令不熟悉的时候如何学习的建议

## 文件目录类
### 实用指令pwd，ls，cd

+ ***pwd***指令：

  显示当前工作目录的绝对路径

+ ***ls***指令：

  基本语法：***ls [选项] [目录或者文件]***

  -a：显示当前目录的所有文件和目录，包括隐藏的

  -l：以列表的方式显示信息

+ ***cd***指令：

  基本语法：***cd [参数]*** (功能描述：切换到指定目录) 

  常用参数：

  + cd ~ 或者 cd：回到自己的家目录
  + cd.. 回到当前目录的上一级目录

  绝对路径：从根目录开始定位

  相对路径：从当前工作目录开始定位到需要的目录中去。

### 实用指令：mkdir和rmdir

#### mkdir指令

mkdir指令用于创建目录（make directory）

基本语法：***mkdir [选项] 要创建的目录***

常用选项：-p 创建多级目录（默认情况下mkdir目录只能创建一级目录）

#### rmdir指令

rmdir指令：删除空目录

基本语法：***rmdir [选项] [要删除的目录]***

+ rmdir删除的是空目录，如果目录下由内容则无法删除
+ 如果需要删除非空目录，需要使用 ***rm -rf*** 要删除的目录

### 文件目录类：touch指令和cp指令

#### touch指令创建空文件

基本语法：***touch [文件名]***

可以同时创建多个文件

#### cp指令拷贝文件到指定的目录

基本语法：***cp [选项] source dest***

常用选项：-r 递归复制整个文件夹

**注意：一定要注意你当前的目录位置，然后准确地定位源目录和目标目录**

> 技术小技巧：可以通过上下箭头，调出原来使用过的指令

+ 当发现目标目录下由相同文件时，会提示你是否覆盖
+ 加反斜杠【\】，会强制覆盖，不会提示

### rm指令和mv指令

#### rm指令移除文件或目录

基本语法：***rm [选项] 要删除的文件或目录***

常用选项：

-r ：递归删除整个文件夹 

-f ： 强制删除不提示

#### mv指令移动文件与目录或者重命名

基本语法：

***mv oldNameFile newNameFile*** (功能描述：重命名)

***mv /temp/movefile /targetFolder*** (功能描述：移动文件) 

### cat、more、less指令

#### cat查看文件内容（只读的方式）

+ 基本语法：

  ***cat 【选项】 要查看的文件***

+ 常用选项

  -n：显示行号

  若添加*| more*，说明要一页页地显示

  例如：cat -n /etc/profile/ |more

#### more指令是一个基于VI编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容。

基本语法：***more 要查看的文件***

| 操作   | 功能说明                               |
| ------ | -------------------------------------- |
| 空格键 | 代表向下翻一页                         |
| enter  | 代表向下翻一行                         |
| q      | 代表立刻离开more，不再显示该文件的内容 |
| ctrl+F | 向下滚动一个屏幕                       |
| ctrl+B | 返回上一个屏幕                         |
| =      | 输出当前行的行号                       |
| ：f    | 输出文件名和当前行的行号               |

#### less指令用来分屏查看文件内容

它的功能与more指令类似，但是比more指令更加强大，支持各种显示终端。less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。 

+ 基本语法：***less 要查看的文件***
+ 看大型日志文件比较快

### 重定向和追加

#### \> 输出重定向和 >> 追加

【>】输出重定向，会将原来的文件内容覆盖

【>>】追加：不会覆盖原来文件的内容，而是追加到文件的尾部

基本语法：

\1) ***ls -l >***文件 （功能描述：列表的内容写入文件a.txt中（覆盖写））

例如：*ls -l > a.txt* 会将ls -l显示的内容覆盖写入到a.txt文件，如果该文件不存在，就会创建该文件

\2) ***ls -al >>***文件 （功能描述：列表的内容追加到文件aa.txt的末尾）

\3) ***cat 文件1 > 文件2*** （功能描述：将文件1的内容覆盖到文件2）

\4) ***echo "内容">> 文件*** 

### echo，head和tail指令

#### echo输出内容到控制台

基本语法：***echo [选项] [输出内容]*** 

例如：*echo $PATH* 输出环境变量的路径

echo指令也能输出文本

#### head用于显示文件的开头部分内容

>默认情况下head指令显示文件的前10行内容 

+ 基本语法

head 文件 (功能描述：查看文件头10行内容)

head -n 5 文件 (功能描述：查看文件头5行内容，5可以是任意行数) 

例如：*head -n 5 /etc/profile*

#### tail用于输出文件中尾部的内容

> 默认情况下tail指令显示文件的前10行内容

+ 基本语法

\1) tail 文件 （功能描述：查看文件头10行内容）

\2) tail -n 5 文件 （功能描述：查看文件头5行内容，5可以是任意行数）

\3) **tail -f 文件 （功能描述：实时追踪该文档的所有更新**,（经常使用）

### ln和history

#### ln指令

软链接也成为符号链接，类似于windows里的快捷方式，主要存放了链接其他文件的路径

**基本语法**

***ln -s [原文件或目录] [软链接名]***

![image-20210728083946437](C:\Users\LENOVO\AppData\Roaming\Typora\typora-user-images\image-20210728083946437.png)

细节说明

当我们使用pwd指令查看目录时，仍然看到的是软链接所在目录。

#### history指令

查看已经执行过历史命令,也可以执行历史指令

基本语法

***history（功能描述：查看已经执行过历史命令）***

***！ + 【编号】执行历史指令***

## 时间日期类指令

### date和cal

#### date：显示当前日期

基本语法：

1) date（功能描述：显示当前时间）
2) date “+%Y”（功能描述：显示当前年份）
3) date ”+%m“（功能描述：显示当前月份）
4) date +%d（功能描述：显示当前是哪一天）
5) date "+%Y-%m-%d %H:%M:%S"（功能描述：显示年月日时分秒）

注意：日期前面必须有＋号

设置日期：

***date -s +日期***

#### cal指令

查看日历指令

基本语法：

***cal 【选项】***

## 搜索查找类

### find、locate、grep指令和管道符号

#### find指令

find指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。

基本语法

***find [搜索范围] [选项]***

| 选项            | 功能                             |
| --------------- | -------------------------------- |
| -name<查询方式> | 按照指定的文件名查找模式查找文件 |
| -user<用户名>   | 查找属于指定用户名所有文件       |
| -size<文件大小> | 按照指定的文件大小查找文件。     |

![image-20210728092830652](C:\Users\LENOVO\AppData\Roaming\Typora\typora-user-images\image-20210728092830652.png)

+n: 大于指定的文件大小

-n: 小于指定的文件大小

n: 等于指定的文件大小

查找M需要大写，k需要小写

查找文本类型的文件：【*.txt】

#### locate指令可以快速定位文件路径

locate指令利用事先建立的系统中所有文件名称及路径的ocate数据库实现快速定位给定的文件。Locate指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate时刻。

由于locate指令基于数据库进行查询，所以第一次运行前，必须使用***updatedb***指令创建locate数据库。

基本语法

***locate 搜索文件***

#### grep指令和管道符号|

grep 过滤查找，管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。

基本语法

***grep [选项]查找内容源文件***

常用选项：

-n 显示匹配行以及行号

-i 忽略字母大小写

![image-20210728094448709](C:\Users\LENOVO\AppData\Roaming\Typora\typora-user-images\image-20210728094448709.png)

## 压缩和解压缩指令

#### gzip和gunzip指令

gzip 用于压缩文件，gunzip 用于解压的

gzip 文件（功能描述：压缩文件，只能将文件压缩为*.gz文件）
gunzip 文件.gz（功能描述：解压缩文件命令）

细节说明：当我们使用gzip进行压缩后，不会保留原来的文件

